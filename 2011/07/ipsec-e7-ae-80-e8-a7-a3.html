
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>IPSEC 简解 | Water is</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="在 Kernel 里面才倒腾了几个参数，都是关于 IPSec 的。看着看着发现逐条的解释不太现实了，一个条目解释透必须要把其他都带出来。干脆，梳理一下 IPSec 的工作方式吧。由于不涉及底层的实现，所以为简解。">
<meta property="og:type" content="article">
<meta property="og:title" content="IPSEC 简解">
<meta property="og:url" content="http://latteye.com/2011/07/ipsec-e7-ae-80-e8-a7-a3.html">
<meta property="og:site_name" content="Water is">
<meta property="og:description" content="在 Kernel 里面才倒腾了几个参数，都是关于 IPSec 的。看着看着发现逐条的解释不太现实了，一个条目解释透必须要把其他都带出来。干脆，梳理一下 IPSec 的工作方式吧。由于不涉及底层的实现，所以为简解。">
<meta property="og:image" content="http://www.tcpipguide.com/free/diagrams/ipsecbits.png">
<meta property="og:image" content="http://www.tcpipguide.com/free/diagrams/ipsecbitw.png">
<meta property="og:image" content="http://latteye.com/gmail.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IPSEC 简解">
<meta name="twitter:description" content="在 Kernel 里面才倒腾了几个参数，都是关于 IPSec 的。看着看着发现逐条的解释不太现实了，一个条目解释透必须要把其他都带出来。干脆，梳理一下 IPSec 的工作方式吧。由于不涉及底层的实现，所以为简解。">
  
    <link rel="alternative" href="/atom.xml" title="Water is" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Water is</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">latte</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="latteye.com">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-ipsec-e7-ae-80-e8-a7-a3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/07/ipsec-e7-ae-80-e8-a7-a3.html" class="article-date">
  <time datetime="2011-07-19T08:55:37.000Z" itemprop="datePublished">2011-07-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Work/">Work</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      IPSEC 简解
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在 Kernel 里面才倒腾了几个参数，都是关于 IPSec 的。看着看着发现逐条的解释不太现实了，一个条目解释透必须要把其他都带出来。干脆，梳理一下 IPSec 的工作方式吧。由于不涉及底层的实现，所以为简解。<a id="more"></a></p>
<p><strong>一、前言</strong></p>
<p>早期的 Internet 只有 IP 协议，而 IP 协议为了让不同的设备可以流畅的、快捷的修改其包的内容，不方便在 IP 协议里面直接做加密。于是 IPSec 就来了。<br>这篇简短的文章尽量快速、简明的介绍 IPSec 是如何工作的。会在本文探讨的内容有：两个 IPSec 模式（transport 和 tunnel），SAD、SPI、AH、ESP、IKE。</p>
<p><strong>历史</strong></p>
<p>众所周知，IPV4 最大的问题是地址缺乏，而另外一个小问题则是 IPV4 没有给出安全的解决方案。<br>在最早期的 Internet，网络只由几个大学组成。开始是带有研究性质的，所以参与的人员也多为开发人员（那时应该叫科学家？）。网络增长的速度缓慢，也完全可以控制。你可以拿起一本小本子，一笔一笔的记上今天有谁加入进来了，他的IP分的是多少。在这种环境下，根本不需要加密。因为你感觉一切都是可控的。<br>但是！当Internet决定像普通人开放，这意味着大堆的“脏”用户，“脏”数据进入到了整个网络。你不知道他是谁，你也不知道他在做啥。这时，安全问题开始被人们重视起来。<br>在早期的思考过程中，出现了很多不同的方案。很多产品都使用了“<a href="http://www.tcpipguide.com/free/t_UpperLayerLayers56and7NetworkingProtocolsServicesa.htm" target="_blank" rel="external">OSI 高层协议</a>”来解决。但是这个方案的局限性是过于以来应用程序，而且不同的应用程序之间协议也是不同的。比如 SSL 可以适用与 WWW 与 FTP 协议，但是 SSL 并不适用于所有的协议。</p>
<p>于是 IPSec 解决方式浮出水面。所有基于 IP 的应用都可以使用 IPSec。在 IPV6 还未全面部署之前，最通用的方案就是 IPSec 了。</p>
<p><strong>IPSec 服务与功能</strong></p>
<p>IPsec 并不是一个简单的协议，而是一堆服务与协议的集合。这一系列的协议与服务提供了多种的加密保护。原理上，只要是基于 TCP/IP 的实现都可以享用 IPSec 提供的多种服务。<br>以下罗列一些 IPSec 的提供的功能：<br>    <li>加密用户数据</li><br>    <li>确认用户来源，确保不被路由修改</li><br>    <li>对一些攻击具有防范作用</li><br>    <li>给与不同设备之间具有协商密钥以及加密算法的能力</li><br>    <li>两种安全模型：tunnel 和 transport，以适合不同的网络需求</li></p>
<p><strong>IPSec 标准</strong></p>
<p>由于 IPSec 并不是一个单独的协议，而是由一系列协议组成。所以有一小堆 RFC 来定义这些协议。下表给出一些主要的 RFC 的简单介绍：</p>
<p><a name="Table_78"></a><table border="3" cellpadding="4" cellspacing="2"><strong>Table: 重要的IP Security (IPSec) 标准</strong></table></p>
<p><tr></tr></p>
<td bgcolor="#CCCCFF">

<p><strong>RFC Number</strong></p>
<p></p></td><p></p>
<td bgcolor="#CCCCFF">

<p><strong>Name</strong></p>
<p></p></td><p></p>
<td align="left" bgcolor="#CCCCFF">

<p><strong>Description</strong></p>
<p></p></td><br><p></p>
<p><tr></tr></p>
<td align="center">

<p><strong>2401</strong></p>
<p></p></td><p></p>
<td align="center">

<p><em><u>Security Architecture for the Internet Protocol</u></em></p>
<p></p></td><p></p>
<td>

<font face="Arial">The main IPSec document, describing the architecture and general operation of the technology,<br>and showing how the different components fit together.</font>

<p></p></td><br><p></p>
<p><tr></tr></p>
<td align="center" bgcolor="#E1E1FF">

<p><strong>2402</strong></p>
<p></p></td><p></p>
<td align="center" bgcolor="#E1E1FF">

<font face="Arial"><em><u>IP Authentication Header</u></em></font>

<p></p></td><p></p>
<td bgcolor="#E1E1FF">

<font face="Arial">Defines the<br>IPSec </font><a href="t_IPSecAuthenticationHeaderAH.htm"><font face="Arial" color="#0101C0">Authentication Header (AH)</font></a><font face="Arial"> protocol used for<br>ensuring data integrity and origin verification.</font>

<p></p></td><br><p></p>
<p><tr></tr></p>
<td align="center">

<font face="Arial"><strong>2403</strong></font>

<p></p></td><p></p>
<td align="center">

<font face="Arial"><em><u>The Use of HMAC-MD5-96 within ESP and AH</u></em></font>

<p></p></td><p></p>
<td>

<p>Describes a particular encryption algorithm for use by AH and ESP called<br> Message Digest 5 (MD5), HMAC variant. (Obviously. J)</p>
<p></p></td><br><p></p>
<p><tr></tr></p>
<td align="center" bgcolor="#E1E1FF">

<font face="Arial"><strong>2404</strong></font>

<p></p></td><p></p>
<td align="center" bgcolor="#E1E1FF">

<font face="Arial"><em><u>The Use of HMAC-SHA-1-96 within ESP and AH</u></em></font>

<p></p></td><p></p>
<td bgcolor="#E1E1FF">

<font face="Arial">Describes a particular encryption algorithm for use by AH and ESP called<br>Secure Hash Algorithm 1 (SHA-1), HMAC variant. (Naturally. </font><font face="Wingdings">J</font><font face="Arial">)</font>

<p></p></td><br><p></p>
<p><tr></tr></p>
<td align="center">

<font face="Arial"><strong>2406</strong></font>

<p></p></td><p></p>
<td align="center">

<font face="Arial"><em><u>IP Encapsulating Security Payload (ESP)</u></em></font>

<p></p></td><p></p>
<td>

<font face="Arial">Describes the IPSec </font><a href="t_IPSecEncapsulatingSecurityPayloadESP.htm"><font face="Arial" color="#0101C0">Encapsulation Security Payload (ESP)</font></a><font face="Arial"><br> protocol<br> that provides data encryption for confidentiality.</font>

<p></p></td><br><p></p>
<p><tr></tr></p>
<td align="center" bgcolor="#E1E1FF">

<font face="Arial"><strong>2408</strong></font>

<p></p></td><p></p>
<td align="center" bgcolor="#E1E1FF">

<font face="Arial"><em><u>Internet Security Association and Key Management Protocol (ISAKMP)</u></em></font>

<p></p></td><p></p>
<td bgcolor="#E1E1FF">

<font face="Arial">Defines methods for exchanging keys and negotiating security associations.</font>

<p></p></td><br><p></p>
<p><tr></tr></p>
<td align="center">

<font face="Arial"><strong>2409</strong></font>

<p></p></td><p></p>
<td align="center">

<font face="Arial"><em><u>The Internet Key Exchange (IKE)</u></em></font>

<p></p></td><p></p>
<td>

<font face="Arial">Describes the </font><a href="t_IPSecKeyExchangeIKE.htm"><font face="Arial" color="#0101C0">Internet Key Exchange (IKE)</font></a><font face="Arial"> protocol used to negotiate security associations and exchange<br> keys between devices for secure communications. Based on ISAKMP and OAKLEY.</font>

<p></p></td><br><p></p>
<p><tr></tr></p>
<td align="center" bgcolor="#E1E1FF">

<font face="Arial"><strong>2412</strong></font>

<p></p></td><p></p>
<td align="center" bgcolor="#E1E1FF">

<font face="Arial"><em><u>The OAKLEY Key Determination Protocol</u></em></font>

<p></p></td><p></p>
<td bgcolor="#E1E1FF">

<font face="Arial">Describes a generic protocol for key exchange.</font>

<p></p></td><br><br><p></p>
<p><strong>二、IPSec 的组件和协议</strong></p>
<p><strong>协议</strong><br>在这里只提及最核心的部分。在数据加密部分，最核心的协议是：</p>
<pre><code><span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">name</span>=<span class="value">"AH"</span>&gt;</span>IPSec Authentication Header (AH)<span class="tag">&lt;/<span class="title">a</span>&gt;</span>:此协议为 IPSec 提供了认证服务。他允许接收端来验证收到的包是否是最初的发送者发送的，同时检查有无数据包在中途被篡改。同时他还帮助避免了一种称为重播的网络攻击--数据包被第三方中途截下并反复向收包方发送。<span class="tag">&lt;/<span class="title">li</span>&gt;</span>
<span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">name</span>=<span class="value">"ESP"</span>&gt;</span>Encapsulating Security Payload (ESP)<span class="tag">&lt;/<span class="title">a</span>&gt;</span>:AH验证了数据包内数据的完整性，但没有解决私密性问题。当发送来的数据包是仅供特定主机查看的，ESP 可以通过数据加密提供额外的安全保护。<span class="tag">&lt;/<span class="title">li</span>&gt;</span>
</code></pre><p><strong>组件</strong><br><a href="#AH">AH</a> 和 <a href="#ESP">ESP</a> 通常被称为“协议”，但这个称法存在一点争议性，因为他们所做的事情其实是在 IP 头上插入自己的数据包。AH 和 ESP 无法自己实施起来，他们需要其他的模块支持才能完成最终的工作：<br>    <li><br><strong>Encryption/Hashing Algorithms（加密算法）</strong>:AH 和 ESP 并不指定具体的加密方式，这给了他们充分的灵活性。在不同的环境中可以协商需要什么算法。在 IPSec 中最常用的两个算法是 Message Digest 5 (MD5) 和 Secure Hash Algorithm 1 (SHA-1)。通常他们也称为 哈希算法（hashing）。</li></p>
<pre><code><span class="variable">&lt;li&gt;</span><span class="keyword">*</span><span class="keyword">*</span>Security Policies and Associations, and Management Methods<span class="keyword">*</span><span class="keyword">*</span>:由于 IPSec 可以灵活的在不同设备之间使用不同的加密方式，所以需要一个功能来记录、跟踪每两台设备之间使用了何种方式。同时相同的两台设备之间的不同条目规则也是可以不同的。这一功能称之为 security policies（SP） 和 security associations （SA）。达到这一功能，需要支持交换 SA 信息。<span class="variable">&lt;/li&gt;</span>

<span class="variable">&lt;li&gt;</span><span class="keyword">*</span><span class="keyword">*</span>Key Exchange Framework and Mechanism:<span class="keyword">*</span><span class="keyword">*</span>密钥交换。在两个谁被交换加密信息之前，他们必须要有一段非预设加密的交互。如何是这一段交互变的安全就是 Internet Key Exchange (IKE) 的工作了。设备通过预设的密码来确认接下来是否放开加密。<span class="variable">&lt;/li&gt;</span>
</code></pre><p>OK，到这里已经解释了最基本的 IPSec 的组成部分。接下来细看 IPSec 的实现方式。</p>
<p><strong>三、IPSec 的构成和实现</strong></p>
<p>IPSec 很棒的一点是可以和 IP 结合在一起。那么他是如何和 IP 协议结合在一起的呢？</p>
<p><strong>IPSec 的两种实现模式</strong></p>
<p>IPSec 的两种实现方式其实是根据网络的需求来的：终端模式和路由模式。</p>
<pre><code><span class="variable">&lt;li&gt;</span><span class="keyword">*</span><span class="keyword">*</span>终端模式实现方式（End Host）<span class="keyword">*</span><span class="keyword">*</span>：这种模式可以将两个设备之间的所有流量都通过 IPSec 处理。听起来这很爽，但是操作起来就比较麻烦了。因为 IPSec 适用的设备太多，而在不同的设备上的配置也很多，比较麻烦了。<span class="variable">&lt;/li&gt;</span>
<span class="variable">&lt;li&gt;</span><span class="keyword">*</span><span class="keyword">*</span>路由实现：<span class="keyword">*</span><span class="keyword">*</span> 这个方式比较简单，尤其是在大量客户端需要 IPSec 的时候，我们只需要修改几台路由设备就可以为下面的主题提供服务了。用户在使用的时候，会非常的透明，感觉不到任何的变化。不过你需要制定规则，指定何种流量需要经过 IPSec 处理。<span class="variable">&lt;/li&gt;</span>
</code></pre><p><strong>IPSec 的结构</strong></p>
<p><strong>Integrated 架构</strong><br>在 Integrated 架构理念上，是希望将 IPSec 整合进 IP 的数据包中。这样做就可以让适用性做到<strong>比较广</strong>，任何可以用 IP 的地方都可以用 IPSec。在 IPV6 中，IPSec 已经被作为了一个选项。而在 IPV4 中，数据包被修改成 IPSec 需要在各个设备上做单独的配置。</p>
<p><strong>“Bump In The Stack” (BITS) 架构</strong></p>
<p>在这个架构中，IPSec 被嵌入在了IP 和 数据链路层之间。IPSec 作为一个网络协议中额外的元素，截取了 IP 数据包的内容，然后对其加密。再将其丢给数据链路层。<br>由于这种结构 IPSec 与 IP 是完全隔绝开的，所以它适用于<strong>任何的</strong>设备。而缺点则是和 Integrated 比较有点重复劳动。</p>
<p><img src="http://www.tcpipguide.com/free/diagrams/ipsecbits.png" alt=""></p>
<p><strong>“Bump In The Wire” (BITW) 结构</strong></p>
<p>这种结构为两端的网络提供 IPSec 保护。在两个网络之间假设 IPSec 设备，截获数据，并且加密。</p>
<p><img src="http://www.tcpipguide.com/free/diagrams/ipsecbitw.png" alt=""></p>
<p>未完待续<br><img src="http://latteye.com/gmail.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://latteye.com/2011/07/ipsec-e7-ae-80-e8-a7-a3.html" data-id="cia6xki6200d26qpiqup4wgr8" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://latteye.com/2011/07/ipsec-e7-ae-80-e8-a7-a3.html#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2011/07/iptables-e6-8a-80-e6-9c-af-e5-b0-8f-e8-ae-b0.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">
        
          iptables 技术小记
        
      </div>
    </a>
  
  
    <a href="/2011/07/pc-low-fi-e4-b9-8b-e8-b7-af-2.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">PC Low-Fi 之路 2</div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <div id="ds-thread" class="ds-thread" data-thread-key="2011/07/ipsec-e7-ae-80-e8-a7-a3.html" data-title="IPSEC 简解" data-url="http://latteye.com/2011/07/ipsec-e7-ae-80-e8-a7-a3.html"></div>
  </section>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Book/">Book</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Dev/">Dev</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">90</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Life/Music/">Music</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile/">Mobile</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Movie/">Movie</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Music/">Music</a><span class="category-list-count">41</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Work/">Work</a><span class="category-list-count">292</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NSRange/">NSRange</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NSRegularExpression/">NSRegularExpression</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NSTextCheckingResult/">NSTextCheckingResult</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Regex/">Regex</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/">Swift</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/NSRange/" style="font-size: 10px;">NSRange</a><a href="/tags/NSRegularExpression/" style="font-size: 10px;">NSRegularExpression</a><a href="/tags/NSTextCheckingResult/" style="font-size: 10px;">NSTextCheckingResult</a><a href="/tags/Regex/" style="font-size: 10px;">Regex</a><a href="/tags/Swift/" style="font-size: 20px;">Swift</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">十月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">九月 2012</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">八月 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/12/">十二月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">十一月 2011</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">十月 2011</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/07/">七月 2011</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/06/">六月 2011</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">五月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">四月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/03/">三月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/02/">二月 2011</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/01/">一月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/12/">十二月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">十一月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/09/">九月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/08/">八月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/06/">六月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/05/">五月 2010</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/04/">四月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">三月 2010</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/02/">二月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/01/">一月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/12/">十二月 2009</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/11/">十一月 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/10/">十月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/09/">九月 2009</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/04/">四月 2009</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/02/">二月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/01/">一月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/12/">十二月 2008</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/11/">十一月 2008</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/10/">十月 2008</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/09/">九月 2008</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/08/">八月 2008</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/07/">七月 2008</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/06/">六月 2008</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/05/">五月 2008</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/04/">四月 2008</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/03/">三月 2008</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/02/">二月 2008</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/01/">一月 2008</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/12/">十二月 2007</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/11/">十一月 2007</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/10/">十月 2007</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/09/">九月 2007</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/08/">八月 2007</a><span class="archive-list-count">23</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/07/">七月 2007</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/06/">六月 2007</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/05/">五月 2007</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/04/">四月 2007</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/03/">三月 2007</a><span class="archive-list-count">36</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/02/">二月 2007</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/01/">一月 2007</a><span class="archive-list-count">23</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/12/">十二月 2006</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/11/">十一月 2006</a><span class="archive-list-count">74</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/10/">十月 2006</a><span class="archive-list-count">33</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/05/Swift-Trouble-Shooting-Return-from-initializer-without-initializing-all-stored-properties.html">Swift 排错一则</a>
          </li>
        
          <li>
            <a href="/2015/05/swift-regex-basic.html">Swift 中的正则表达式基础</a>
          </li>
        
          <li>
            <a href="/2014/03/linux-syn-backlog-and-somaxconn.html">Linux SYN Backlog and somaxconn</a>
          </li>
        
          <li>
            <a href="/2013/06/e4-b8-8a-e6-b5-b7-e6-a4-8d-e7-89-a9-e5-9b-ad-e8-8a-b1-e5-8d-89-e4-b8-80-e7-bb-84.html">上海植物园花卉一组</a>
          </li>
        
          <li>
            <a href="/2012/10/自动下载 shooter.cn 字幕脚本.html">自动下载 shooter.cn 字幕脚本</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://www.zhihu.com/people/yuan-hao-yang" target="_blank">知乎</a>
          </li>
        
          <li>
            <a href="http://xiguabaobao.com" target="_blank">主题作者</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 latteye<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"latteye"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"/css/bdshare.css"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js" type="text/javascript"></script>

</div>
</body>
</html>
