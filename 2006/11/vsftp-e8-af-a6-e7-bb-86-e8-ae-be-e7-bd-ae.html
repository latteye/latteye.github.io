
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>VSFtp详细设置 | Water is</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="用vsftp建立个人ftp站点
首先是最基本的配置,请看我的/etc/vsftpd/vsftpd.conf
#接受匿名用户anonymous_enable=YES
匿名用户login时不询问口令no_anon_password=YES
接受本地用户local_enable=YES">
<meta property="og:type" content="article">
<meta property="og:title" content="VSFtp详细设置">
<meta property="og:url" content="http://latteye.me/2006/11/vsftp-e8-af-a6-e7-bb-86-e8-ae-be-e7-bd-ae.html">
<meta property="og:site_name" content="Water is">
<meta property="og:description" content="用vsftp建立个人ftp站点
首先是最基本的配置,请看我的/etc/vsftpd/vsftpd.conf
#接受匿名用户anonymous_enable=YES
匿名用户login时不询问口令no_anon_password=YES
接受本地用户local_enable=YES">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="VSFtp详细设置">
<meta name="twitter:description" content="用vsftp建立个人ftp站点
首先是最基本的配置,请看我的/etc/vsftpd/vsftpd.conf
#接受匿名用户anonymous_enable=YES
匿名用户login时不询问口令no_anon_password=YES
接受本地用户local_enable=YES">
  
    <link rel="alternative" href="/atom.xml" title="Water is" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Water is</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">latte</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="latteye.me">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-vsftp-e8-af-a6-e7-bb-86-e8-ae-be-e7-bd-ae" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2006/11/vsftp-e8-af-a6-e7-bb-86-e8-ae-be-e7-bd-ae.html" class="article-date">
  <time datetime="2006-11-23T08:21:50.000Z" itemprop="datePublished">2006-11-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Work/">Work</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      VSFtp详细设置
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>用vsftp建立个人ftp站点</p>
<p>首先是最基本的配置,请看我的/etc/vsftpd/vsftpd.conf</p>
<h6 id="#">#</h6><h1 id="接受匿名用户">接受匿名用户</h1><p>anonymous_enable=YES</p>
<h1 id="匿名用户login时不询问口令">匿名用户login时不询问口令</h1><p>no_anon_password=YES</p>
<h1 id="接受本地用户">接受本地用户</h1><p>local_enable=YES</p>
<a id="more"></a>
<h1 id="可以上传(全局控制)-若想要匿名用户也可上传则需要设置anon_upload_enable=YES,若想要匿名用户可以建立目录则需要设置anon_mkdir_write_enable=YES-这里禁止匿名用户上传,所以不设置这两项-">可以上传(全局控制).若想要匿名用户也可上传则需要设置anon_upload_enable=YES,若想要匿名用户可以建立目录则需要设置anon_mkdir_write_enable=YES.这里禁止匿名用户上传,所以不设置这两项.</h1><p>write_enable=YES</p>
<h1 id="本地用户上传文件的umask">本地用户上传文件的umask</h1><p>local_umask=022</p>
<h1 id="使用上传/下载日志,日志文件默认为/var/log/vsftpd-log,可以通过xferlog_file选项修改">使用上传/下载日志,日志文件默认为/var/log/vsftpd.log,可以通过xferlog_file选项修改</h1><p>xferlog_enable=YES</p>
<h1 id="日志使用标准xferlog格式">日志使用标准xferlog格式</h1><p>xferlog_std_format=YES</p>
<h1 id="login时的欢迎信息">login时的欢迎信息</h1><p>ftpd_banner=Welcome to KingArthur’s FTP service.</p>
<h1 id="设置的话将覆盖上面的ftpd_banner设置,用户login时将显示/etc/vsftpd/banner中的内容">设置的话将覆盖上面的ftpd_banner设置,用户login时将显示/etc/vsftpd/banner中的内容</h1><p>banner_file=/etc/vsftpd/banner</p>
<h1 id="为YES则进入目录时显示此目录下由message_file选项指定的文本文件(,默认为-message)的内容">为YES则进入目录时显示此目录下由message_file选项指定的文本文件(,默认为.message)的内容</h1><p>dirmessage_enable=YES</p>
<h1 id="本地用户login后所在目录,若没有设置此项,则本地用户login后将在他的home目录(/etc/passwd的第六个字段)中-匿名用户的对应选项是anon_root">本地用户login后所在目录,若没有设置此项,则本地用户login后将在他的home目录(/etc/passwd的第六个字段)中.匿名用户的对应选项是anon_root</h1><p>local_root=/var/ftp</p>
<h1 id="设置为YES则下面的控制有效">设置为YES则下面的控制有效</h1><p>chroot_list_enable=YES</p>
<h1 id="若为NO,则记录在chroot_list_file选项所指定的文件(默认是/etc/vsftpd-chroot_list)中的用户将被chroot在登录后所在目录中,无法离开-如果为YES,则所记录的用户将不被chroot-这里选择YES-">若为NO,则记录在chroot_list_file选项所指定的文件(默认是/etc/vsftpd.chroot_list)中的用户将被chroot在登录后所在目录中,无法离开.如果为YES,则所记录的用户将不被chroot.这里选择YES.</h1><p>chroot_local_user=YES</p>
<h1 id="若设置为YES则记录在userlist_file选项指定文件(默认是/etc/vsftpd-user_list)中的用户将无法login,并且将检察下面的userlist_deny选项">若设置为YES则记录在userlist_file选项指定文件(默认是/etc/vsftpd.user_list)中的用户将无法login,并且将检察下面的userlist_deny选项</h1><p>userlist_enable=YES</p>
<h1 id="若为NO,则仅接受记录在userlist_file选项指定文件(默认是/etc/vsftpd-user_list)中的用户的login请求-若为YES则不接受这些用户的请求-">若为NO,则仅接受记录在userlist_file选项指定文件(默认是/etc/vsftpd.user_list)中的用户的login请求.若为YES则不接受这些用户的请求.</h1><p>userlist_deny=NO</p>
<h1 id="注意!!!vsftpd还要检察/etc/vsftpd-ftpusers文件,记录在这个文件中的用户将无法login!!">注意!!!vsftpd还要检察/etc/vsftpd.ftpusers文件,记录在这个文件中的用户将无法login!!</h1><h1 id="服务器以standalong模式运行,这样可以进行下面的控制">服务器以standalong模式运行,这样可以进行下面的控制</h1><p>listen=YES</p>
<h1 id="匿名用户的传输比率(b/s)">匿名用户的传输比率(b/s)</h1><p>anon_max_rate=51200</p>
<h1 id="本地用户的传输比率(b/s)">本地用户的传输比率(b/s)</h1><p>local_max_rate=512000</p>
<h1 id="可接受的最大client数目">可接受的最大client数目</h1><p>max_clients=100</p>
<h1 id="每个ip的最大client数目">每个ip的最大client数目</h1><p>max_per_ip=5</p>
<p>connect_from_port_20=YES<br>tcp_wrappers=YES<br>pam_service_name=vsftpd</p>
<h6 id="#-1">#</h6><p>下面是我的/etc/vsftpd.user_list</p>
<h6 id="#-2">#</h6><p>ftpuser<br>anonymous</p>
<h6 id="#-3">#</h6><p>/etc/vsftpd.ftpusers可以使用系统自带的文件<br>/etc/vsftpd.chroot_list内容为空<br>接着建立系统用户ftpuser,将他加入ftp组并将/etc/passwd中他的记录的最后一个字段改成/sbin/nologin(禁止本地登录).<br>设置/var/ftp的所有者和所有组为root,权限为755<br>设置/var/ftp/pub的所有者为root,所有组为ftp,权限为775</p>
<p>至此vsftpd的基本配置就完成了.这里我们接受匿名用户anonymous和本地用户ftpuser的请求.anonymous只能下载, ftpuser可以下载和上传.他们登录后均在/var/ftp目录下且无法离开这个目录(被chroot了).ftpuser可以在 /var/ftp/pub目录中建立目录和上传文件,上传文件的权限为755(设置了local_umask=022).匿名用户的传输比率为 50kb/s,ftpuser的传输比率为500kb/s.可联接的最多客户数为100,每ip可联接的最多客户数为5.<br>如果需要使本地用户ftpput可以login,只需要将他加入/etc/vsftpd.user_list,要使他可以上传,只需将他加入ftp组.<br>接着我们可以在/var/ftp下的各个目录(包括/var/ftp)下建立.message文件,这样用户进入这个目录时vsftpd将显示. message的内容,你可以在这里面写上欢迎信息或者注意事项等等.另外可以编辑/etc/vsftpd/banner,建立login时的欢迎信息, 让你的ftp更加个性化.</p>
<p>下面我们使用quota为ftpuser加入磁盘限额,避免恶意用户用垃圾数据塞满你的硬盘.<br>假设/var/ftp在根分区/(/dev/hda5)中,则将/etc/fstab中根分区的记录的第4个字段改成defaults,usrquota,这样这条记录看起来类似这样:<br>LABEL=/ / ext3 defaults,usrquota 1 1<br>接着重启系统后输入下列命令:<br>quotacheck -acu #检查启用了配额的文件系统，并为每个文件系统建立一个当前磁盘用来的表<br>quotacheck -avu #生成每个启用了配额的文件系统的当前磁盘用量表<br>edquota ftpuser #为用户ftpuser设置磁盘配额<br>这时系统会在默认文本编辑器(vi)中打开配额文件,显示类似这样:<br>Disk quotas for user ftpuser (uid 501):<br>Filesystem blocks soft hard inodes soft hard<br>/dev/hda5 0 0 0 0 0 0<br>第一列是启用了配额的文件系统的名称。第二列显示了用户当前使用的块数。随后的两列用来设置用户在该文件系统上的软硬块限度。inodes 列显示了用户当前使用的i节点数量。最后两列用来设置用户在该文件系统上的软硬i节点限度.硬限是用户或组群可以使用的磁盘空间的绝对最大值。达到了该限度后，磁盘空间就不能再被用户或组群使用了。软限定义可被使用的最大磁盘空间量。和硬限不同的是，软限可以在一段时期内被超过。这段时期被称为过渡期（grace period）。过渡期可以用秒钟、分钟、小时、天数、周数、或月数表示。如果以上值中的任何一个被设置为 0，那个限度就不会被设置.按你的需要修改后存盘推出.<br>要校验用户的配额是否被设置，使用以下命令：<br>quota testuser<br>接着使用edquota -t来设置过渡期（grace period）<br>和另一个 edquota 命令相似，这个命令也会在文本编辑器中打开当前的文件系统配额：<br>Grace period before enforcing soft limits for users:<br>Time units may be: days, hours, minutes, or seconds<br>Filesystem Block grace period Inode grace period<br>/dev/hda5 7days 7days<br>按你的需要修改后存盘退出</p>
<p>这样我们就成功的为ftpuser增添了磁盘配额.而一个比较完整的FTP站点也配置完成了</p>
<p>[hr]</p>
<p>—————————————————— 2<br>vsftp 从XINETD<br>中独立出来，并将设定档从/etc/vsftpd.conf 之中移到/etc/vsftpd/vsftpd.conf。 为什么做这样的改变？可以想见的是vsftp<br>已有独立运作的能力，不需要XINETD 来做更进一步的管控，并且类似sendmail、httpd、ssh、samba 等，将设定文件的放入/etc<br>下独立的目录。 FTP 分为两类，一种为PORT FTP，也就是一般的FTP 另一类是PASVFTP，分述如下： PORT FTP<br>这是一般形式的FTP，首先会建立控制频道，默认值是port 21，也就是跟port 21 建立联机，并透过此联机下达指令。第二，由FTP server<br>端会建立数据传输频道，默认值为20，也就是跟port 20 建立联机，并透过port 20 作数据的传输。 PASV FTP 跟PORT FTP<br>类似，首先会建立控制频道，默认值是port 21，也就是跟port 21 建立联机，并透过此联机下达指令。第二，会由client<br>端做出数据传输的请求，包括数据传输port 的数字。 这两者的差异为何？PORT FTP 当中的数据传输port 是由FTP server 指定，而PASV<br>FTP 的数据传输port 是由FTP client 决定。通常我们使用PASV FTP，是在有防火墙的环境之下，透过client 与server<br>的沟通，决定数据传输的port。 3.2.2 范例 3.2.1. 直接启动VSFTP 服务 这个范例是套用RedHat 的预设范例,直接启动vsftp。<br>[root@relay vsftpd]# /sbin/service vsftpd start Starting vsftpd for vsftpd: OK ]<br>3.2.2. 更换port 提供服务：将预设的port 21 更换为2121 为了安全，或是以port 来区隔不同的ftp 服务，我们可能会将ftp port<br>改为21 之外的port，那么，可参考以下步骤。 Step1. 修改/etc/vsftpd/vsftpd.conf 新增底下一行<br>listen_port=2121 Step2. 重新启动vsftpd [root@home vsftpd]# /sbin/service vsftpd<br>restart Shutting down vsftpd: OK ] Starting vsftpd for vsftpd: OK ] 3.2.3.<br>特定使用者peter、john 不得变更目录 使用者的预设目录为/home/username，若是我们不希望使用者在ftp 时能够<br>切换到上一层目录/home，则可参考以下步骤。 Step1. 修改/etc/vsftpd/vsftpd.conf 将底下三行</p>
<h1 id="chroot_list_enable=YES_#_(default_follows)">chroot_list_enable=YES # (default follows)</h1><h1 id="chroot_list_file=/etc/vsftpd-chroot_list_改为_chroot_list_enable=YES_#_(default">chroot_list_file=/etc/vsftpd.chroot_list 改为 chroot_list_enable=YES # (default</h1><p>follows) chroot_list_file=/etc/vsftpd/chroot_list Step2. 新增一个档案:<br>/etc/vsftpd/chroot_list 内容增加两行： peter john Step3. 重新启动vsftpd [root@home vsftpd]#<br>/sbin/service vsftpd restart Shutting down vsftpd: OK ] Starting vsftpd for<br>vsftpd: OK ] 若是peter 欲切换到根目录以外的目录，则会出现以下警告： ftp&gt; cd /home 550 Failed to<br>change directory. 3.2.4. 取消anonymous 登入 若是读者的主机不希望使用者匿名登入，则可参考以下步骤。 Step1.<br>修改/etc/vsftpd/vsftpd.conf 将 anonymous_enable=YES 改为 anonymous_enable=NO Step2.<br>重新启动vsftpd [root@home vsftpd]# /sbin/service vsftpd restart Shutting down<br>vsftpd: OK ] Starting vsftpd for vsftpd: OK ] 3.2.5.<br>安排欢迎话语若是我们希望使用者在登入时，能够看到欢迎话语，可能包括对该主机的说明，或是目录的介绍，可参考以下步骤。首先确定在/etc/vsftpd/vsftpd.conf<br>当中是否有底下这一行 dirmessage_enable=YES RedHat9 的默认值是有上面这行的。 接着，在各目录之中，新增名为.message<br>的档案，再这边假设有一个使用者test1，且此使用者的根目录下有个目录名为abc，那首先我们在/home/test1 之下新增.message，内容如下：<br>Hello~ Welcome to the home directory This is for test only…<br>接着，在/home/test1/abc 的目录下新增.message，内容如下： Welcome to abc’s directory This is<br>subdir… 那么，当使用者test1 登入时，会看到以下讯息： 230- Hello~ Welcome to the home directory<br>230- 230- This is for test only… 230- 若是切换到abc 的目录，则会出现以下讯息： 250- Welcome to<br>abc’s directory 250- 250- This is subdir … 3.2.6. 对于每一个联机，以独立的process<br>来运作一般启动vsftp 时，我们只会看到一个名为vsftpd 的process 在运作，但若是读者希望每一个联机，都能以独立的process<br>来呈现，则可执行以下步骤。 Step1. 修改/etc/vsftpd/vsftpd.conf 新增底下一行 setproctitle_enable=YES<br>Step2. 重新启动vsftpd [root@home vsftpd]# /sbin/service vsftpd restart Shutting down<br>vsftpd: OK ] Starting vsftpd for vsftpd: OK ] 使用ps -ef 的指令，可以看告不同使用者联机的情形，如下图所示：<br>[root@home vsftpd]# ps -ef&#124;grep ftp root 2090 1 0 16:41 pts/0 00:00:00 vsftpd:<br>LISTENER nobody 2120 2090 0 17:18 ? 00:00:00 vsftpd: 192.168.10.244: connected<br>test1 2122 2120 0 17:18 ? 00:00:00 vsftpd: 192.168.10.244/test1: IDLE nobody<br>2124 2090 0 17:19 ? 00:00:00 vsftpd: 192.168.10.244: connected test2 2126 2124 0<br>17:19 ? 00:00:00 vsftpd: 192.168.10.244/test2: IDLE root 2129 1343 0 17:20 pts/0<br>00:00:00 grep ftp [root@home vsftpd]# 3.2.7.<br>限制传输档案的速度：本机的使用者最高速度为200KBytes/s，匿名登入者所能使用的最高速度为50KBytes/s Step1.<br>修改/etc/vsftpd/vsftpd.conf 新增底下两行 anon_max_rate=50000 local_max_rate=200000<br>Step2. 重新启动vsftpd [root@home vsftpd]# /sbin/service vsftpd restart Shutting down<br>vsftpd: OK ] Starting vsftpd for vsftpd: OK ] 在这边速度的单位为Bytes/s，其中anon_max_rate<br>所限制的是匿名登入的 使用者，而local_max_rate 所限制的是本机的使用者。VSFTPD 对于速度的限<br>制，范围大概在80%到120%之间，也就是我们限制最高速度为100KBytes/s， 但实际的速度可能在80KBytes/s 到120KBytes/s<br>之间，当然，若是频宽不足 时，数值会低于此限制。 3.2.8. 针对不同的使用者限制不同的速度：假设test1<br>所能使用的最高速度为250KBytes/s，test2 所能使用的最高速度为500KBytes/s。 Step1.<br>修改/etc/vsftpd/vsftpd.conf 新增底下一行 user_config_dir=/etc/vsftpd/userconf Step2.<br>新增一个目录：/etc/vsftpd/userconf mkdir /etc/vsftpd/userconf Step3.<br>在/etc/vsftpd/userconf 之下新增一个名为test1 的档案 内容增加一行： local_max_rate=250000 Step4.<br>在/etc/vsftpd/userconf 之下新增一个名为test2 的档案 内容增加一行： local_max_rate=500000 Step5.<br>重新启动vsftpd [root@home vsftpd]# /sbin/service vsftpd restart Shutting down<br>vsftpd: OK ] Starting vsftpd for vsftpd: OK ] 3.2.9-1. 建置一个防火墙下的ftp<br>server，使用PORT FTP mode：预设的ftp port:21 以及ftp data port:20 启动VSFTPD<br>之后执行以下两行指令，只允许port 21 以及port 20 开放，其它关闭。 iptables -A INPUT -p tcp -m multiport<br>—dport 21,20 -j ACCEPT iptables -A INPUT -p tcp -j REJECT —reject-with<br>tcp-reset 3.2.9-2. 建置一个防火墙下的ftp server，使用PORT FTP mode： ftp port:2121 以及ftp data<br>port:2020 Step1. 执行以下两行指令，只允许port 2121 以及port 2020 开放，其它关闭。 iptables -A INPUT -p<br>tcp -m multiport —dport 2121,2020 -j ACCEPT iptables -A INPUT -p tcp -j REJECT<br>—reject-with tcp-reset Step2. 修改/etc/vsftpd/vsftpd.conf 新增底下两行 listen_port=2121<br>ftp_data_port=2020 Step3. 重新启动vsftpd [root@home vsftpd]# /sbin/service vsftpd<br>restart Shutting down vsftpd: OK ] Starting vsftpd for vsftpd: OK ] 在这边要注意，8、9<br>两个例子中，ftp client（如cuteftp）的联机方式不能够选择passive mode，否则无法建立数据的联机。也就是读者可以连上ftp<br>server，但是执行ls、get 等等的指令时，便无法运作。 3.2.10. 建置一个防火墙下的ftp server，使用PASS FTP mode： ftp<br>port:2121 以及ftp data port 从9981 到9986。 Step1. 执行以下两行指令，只允许port 2121 以及port<br>9981-9990 开放，其它关闭。 iptables -A INPUT -p tcp -m multiport —dport<br>2121,9981,9982,9983,9984,9985,9986,9987,9988,9989,9990 -j ACCEPT iptables -A<br>INPUT -p tcp -j REJECT —reject-with tcp-reset Step2. 修改/etc/vsftpd/vsftpd.conf<br>新增底下四行 listen_port=2121 pasv_enable=YES pasv_min_port=9981 pasv_max_port=9986<br>Step3. 重新启动vsftpd [root@home vsftpd]# /sbin/service vsftpd restart Shutting down<br>vsftpd: OK ] Starting vsftpd for vsftpd: OK ] 在这边要注意，在10 这个例子中，ftp<br>client（如cuteftp）的联机方式必须选择passive mode，否则无法建立数据的联机。也就是读者可以连上ftp server，但是执行ls,get<br>等等的指令时，便无法运作。 3.2.11. 将vsftpd 与TCP_wrapper 结合若是读者希望直接在/etc/hosts.allow<br>之中定义允许或是拒绝的来源地址，可执行以下步骤。这是简易的防火墙设定。 Step1. 确定/etc/vsftpd/vsftpd.conf<br>之中tcp_wrappers 的设定为YES，如下图所 示： tcp_wrappers=YES 这是RedHat9 的默认值，基本上不需修改。 Step2.<br>重新启动vsftpd [root@home vsftpd]# /sbin/service vsftpd restart Shutting down<br>vsftpd: OK ] Starting vsftpd for vsftpd: OK ] Step3.<br>设定/etc/hosts.allow，譬如提供111.22.33.4 以及10.1.1.1 到10.1.1.254 连 线，则可做下图之设定： vsftpd :<br>111.22.33.4 10.1.1. : allow ALL : ALL : DENY 3.2.12. 将vsftpd 并入XINETD<br>若是读者希望将vsftpd 并入XINETD 之中，也就是7.x 版的预设设定，那 么读者可以执行以下步骤。 Step1.<br>修改/etc/vsftpd/vsftpd.conf 将 listen=YES 改为 listen=NO Step2. 新增一个档案：<br>/etc/xinetd.d/vsftpd 内容如下： service vsftpd { disable = no socket_type = stream<br>wait = no user = root server = /usr/sbin/vsftpd port = 21 log_on_success += PID<br>HOST DURATION log_on_failure += HOST } Step3. 重新启动xinetd [root@home vsftpd]#<br>/sbin/service xinetd restart Stopping xinetd: OK ] Starting xinetd: OK ] 3.2.3<br>设定档说明在范例中，有些省略的设定可以在这边找到，譬如联机的总数、同一个位址的联机数、显示档案拥有者的名称等等，希望读者细读后，可以做出最适合自己的设定。格式<br>vsftpd.conf 的内容非常单纯，每一行即为一项设定。若是空白行或是开头为#的一行，将会被忽略。内容的格式只有一种，如下所示 option=value<br>要注意的是，等号两边不能加空白，不然是不正确的设定。 ＝＝＝ascii 设定＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝<br>ascii_download_enable 管控是否可用ASCII 模式下载。默认值为NO。 ascii_upload_enable 管控是否可用ASCII<br>模式上传。默认值为NO。 ＝＝＝个别使用者设定＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ chroot_list_enable<br>如果启动这项功能，则所有的本机使用者登入均可进到根目录之外的数据夹，除了列 在/etc/vsftpd.chroot_list 之中的使用者之外。默认值为NO。<br>userlist_enable 用法：YES/NO 若是启动此功能，则会读取/etc/vsftpd.user_list<br>当中的使用者名称。此项功能可以在询问密码前就出现失败讯息，而不需要检验密码的程序。默认值为关闭。 userlist_deny 用法：YES/NO<br>这个选项只有在userlist_enable 启动时才会被检验。如果将这个选项设为YES，则在/etc/vsftpd.user_list 中的使用者将无法登入<br>若设为NO ， 则只有在 /etc/vsftpd.user_list 中的使用者才能登入。而且此项功能可以在询问密码前就出现错误讯息，而不需要检验密码的程序。<br>user_config_dir<br>定义个别使用者设定文件所在的目录，例如定义user_config_dir=/etc/vsftpd/userconf，且主机上有使用者test1,test2，那我们可以在user_config_dir<br>的目录新增文件名为test1 以及test2。若是test1 登入，则会读取user_config_dir 下的test1 这个档案内的设定。默认值为无。<br>＝＝＝欢迎语设定＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ dirmessage_enable<br>如果启动这个选项，使用者第一次进入一个目录时，会检查该目录下是否有.message这个档案，若是有，则会出现此档案的内容，通常这个档案会放置欢迎话语，或是对该目录的说明。默认值为开启。<br>banner_file 当使用者登入时，会显示此设定所在的档案内容，通常为欢迎话语或是说明。默认值为无。 ftpd_banner<br>这边可定义欢迎话语的字符串，相较于banner_file 是档案的形式，而ftpd_banner 是字串的格式。预设为无</p>
<p>＝＝＝特殊安全设定＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ chroot_local_user<br>如果设定为YES，那么所有的本机的使用者都可以切换到根目录以外的数据夹。预设值为NO。 hide_ids<br>如果启动这项功能，所有档案的拥有者与群组都为ftp，也就是使用者登入使用ls -al之类的指令，所看到的档案拥有者跟群组均为ftp。默认值为关闭。<br>ls_recurse_enable 若是启动此功能，则允许登入者使用ls -R 这个指令。默认值为NO。 write_enable 用法：YES/NO<br>这个选项可以控制FTP 的指令是否允许更改file system，譬如STOR、DELE、 RNFR、RNTO、MKD、RMD、APPE<br>以及SITE。预设是关闭。 setproctitle_enable 用法：YES/NO 启动这项功能，vsftpd 会将所有联机的状况已不同的process<br>呈现出来，换句话说，使用ps -ef 这类的指令就可以看到联机的状态。默认值为关闭。 tcp_wrappers 用法：YES/NO 如果启动，则会将vsftpd<br>与tcp wrapper 结合，也就是可以在/etc/hosts.allow 与/etc/hosts.deny 中定义可联机或是拒绝的来源地址。<br>pam_service_name 这边定义PAM 所使用的名称，预设为vsftpd。 secure_chroot_dir<br>这个选项必须指定一个空的数据夹且任何登入者都不能有写入的权限，当vsftpd 不需要file system<br>的权限时，就会将使用者限制在此数据夹中。默认值为/usr/share/empty ＝＝＝纪录文件设定＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝<br>xferlog_enable 用法：YES/NO 如果启动，上传与下载的信息将被完整纪录在底下xferlog_file 所定义的档案中。预设为开启。<br>xferlog_file 这个选项可设定纪录文件所在的位置，默认值为/var/log/vsftpd.log。 xferlog_std_format<br>如果启动，则纪录文件将会写为xferlog 的标准格式，如同wu-ftpd 一般。默认值为关闭。 ＝＝＝逾时设定＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝<br>accept_timeout 接受建立联机的逾时设定，单位为秒。默认值为60。 connect_timeout 响应PORT<br>方式的数据联机的逾时设定，单位为秒。默认值为60。 data_connection_timeout 建立数据联机的逾时设定。默认值为300 秒。<br>idle_session_timeout 发呆的逾时设定，若是超出这时间没有数据的传送或是指令的输入，则会强迫断线，单位为秒。默认值为300。<br>＝＝＝速率限制＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ anon_max_rate 匿名登入所能使用的最大传输速度，单位为每秒多少bytes，0<br>表示不限速度。默认值为0。 local_max_rate 本机使用者所能使用的最大传输速度，单位为每秒多少bytes，0 表示不限速度。预设值为0。<br>＝＝＝新增档案权限设定＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ anon_umask 匿名登入者新增档案时的umask 数值。默认值为077。<br>file_open_mode 上传档案的权限，与chmod 所使用的数值相同。默认值为0666。 local_umask 本机登入者新增档案时的umask<br>数值。默认值为077。 ＝＝＝port 设定＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ connect_from_port_20 用法：YES/NO<br>若设为YES，则强迫ftp-data 的数据传送使用port 20。默认值为YES。 ftp_data_port 设定ftp<br>数据联机所使用的port。默认值为20。 listen_port FTP server 所使用的port。默认值为21。 pasv_max_port<br>建立资料联机所可以使用port 范围的上界，0 表示任意。默认值为0。 pasv_min_port 建立资料联机所可以使用port 范围的下界，0<br>表示任意。默认值为0。 ＝＝＝其它＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ anon_root 使用匿名登入时，所登入的目录。默认值为无。<br>local_enable 用法：YES/NO 启动此功能则允许本机使用者登入。默认值为YES。 local_root<br>本机使用者登入时，将被更换到定义的目录下。默认值为无。 text_userdb_names 用法：YES/NO 当使用者登入后使用ls -al<br>之类的指令查询该档案的管理权时，预设会出现拥有者的UID，而不是该档案拥有者的名称。若是希望出现拥有者的名称，则将此功能开启。默认值为NO。<br>pasv_enable 若是设为NO，则不允许使用PASV 的模式建立数据的联机。默认值为开启。 ＝＝＝更换档案所有权＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝<br>chown_uploads 用法：YES/NO 若是启动，所有匿名上传数据的拥有者将被更换为chown_username<br>当中所设定的使用者。这样的选项对于安全及管理，是很有用的。默认值为NO。 chown_username<br>这里可以定义当匿名登入者上传档案时，该档案的拥有者将被置换的使用者名称。预设值为root。 ＝＝＝guest 设定＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝<br>guest_enable 用法：YES/NO 若是启动这项功能，所有的非匿名登入者都视为guest。默认值为关闭。 guest_username<br>这里将定义guest 的使用者名称。默认值为ftp。 ＝＝＝anonymous 设定＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ anonymous_enable<br>用法：YES/NO 管控使否允许匿名登入，YES 为允许匿名登入，NO 为不允许。默认值为YES。 no_anon_password<br>若是启动这项功能，则使用匿名登入时，不会询问密码。默认值为NO。 anon_mkdir_write_enable 用法：YES/NO<br>如果设为YES，匿名登入者会被允许新增目录，当然，匿名使用者必须要有对上层目录的写入权。默认值为NO。 anon_other_write_enable<br>用法：YES/NO 如果设为YES，匿名登入者会被允许更多于上传与建立目录之外的权限，譬如删除或是更名。默认值为NO。 anon_upload_enable<br>用法：YES/NO 如果设为YES，匿名登入者会被允许上传目录的权限，当然，匿名使用者必须要有对上层目录的写入权。默认值为NO。<br>anon_world_readable_only 用法：YES/NO 如果设为YES，匿名登入者会被允许下载可阅读的档案。默认值为YES。<br>ftp_username 定义匿名登入的使用者名称。默认值为ftp。 deny_email_enable<br>若是启动这项功能，则必须提供一个档案/etc/vsftpd.banner_emails，内容为email<br>address。若是使用匿名登入，则会要求输入email address，若输入的email address 在此档案内，则不允许联机。默认值为NO。<br>＝＝＝Standalone 选项＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ listen 用法：YES/NO 若是启动，则vsftpd<br>将会以独立运作的方式执行，若是vsftpd 独立执行，如RedHat9的默认值，则必须启动 若是vsftpd 包含在xinetd<br>之中，则必须关闭此功能，如RedHat8。在RedHat9 的默认值为YES。 listen_address 若是vsftpd 使用standalone<br>的模式，可使用这个参数定义使用哪个IP address 提供这项服务，若是主机上只有定义一个IP address，则此选项不需使用，若是有多个IP<br>address，可定义在哪个IP address 上提供ftp 服务。若是不设定，则所有的IP address均会提供此服务。默认值为无。<br>max_clients 若是vsftpd 使用standalone 的模式，可使用这个参数定义最大的总联机数。超过这个数目将会拒绝联机，0<br>表示不限。默认值为0。 max_per_ip 若是vsftpd 使用standalone 的模式，可使用这个参数定义每个ip address<br>所可以联机的数目。超过这个数目将会拒绝联机，0 表示不限。默认值为0。 ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ 3.2.4 FTP<br>数字代码的意义 110 重新启动标记应答。 120 服务在多久时间内ready。 125 数据链路埠开启，准备传送。 150 文件状态正常，开启数据连接端口。<br>200 命令执行成功。 202 命令执行失败。 211 系统状态或是系统求助响应。 212 目录的状态。 213 文件的状态。 214 求助的讯息。 215<br>名称系统类型。 220 新的联机服务ready。 221 服务的控制连接埠关闭，可以注销。 225 数据连结开启，但无传输动作。 226<br>关闭数据连接端口，请求的文件操作成功。 227 进入passive mode。 230 使用者登入。 250 请求的文件操作完成。 257 显示目前的路径名称。<br>331 用户名称正确，需要密码。 332 登入时需要账号信息。 350 请求的操作需要进一部的命令。 421 无法提供服务，关闭控制连结。 425<br>无法开启数据链路。 426 关闭联机，终止传输。 450 请求的操作未执行。 451 命令终止：有本地的错误。 452 未执行命令：磁盘空间不足。 500<br>格式错误，无法识别命令。 501 参数语法错误。 502 命令执行失败。 503 命令顺序错误。 504 命令所接的参数不正确。 530 未登入。 532<br>储存文件需要账户登入。 550 未执行请求的操作。 551 请求的命令终止，类型未知。 552 请求的文件终止，储存位溢出。 553<br>未执行请求的的命令，名称不正确。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://latteye.me/2006/11/vsftp-e8-af-a6-e7-bb-86-e8-ae-be-e7-bd-ae.html" data-id="ciotyiyko001gdfpi6ape9ey4" class="article-share-link" data-share="baidu" data-title="VSFtp详细设置">分享到</a>
      

      
        <a href="http://latteye.me/2006/11/vsftp-e8-af-a6-e7-bb-86-e8-ae-be-e7-bd-ae.html#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2006/11/good-charlotte.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">
        
          Good Charlotte
        
      </div>
    </a>
  
  
    <a href="/2006/11/e8-bd-aclinux-e7-b3-bb-e7-bb-9f-e4-b8-ad-e7-bd-91-e7-bb-9c-e9-85-8d-e7-bd-ae-e8-af-a6-e8-a7-a3.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">[转]Linux系统中网络配置详解</div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <div id="ds-thread" class="ds-thread" data-thread-key="2006/11/vsftp-e8-af-a6-e7-bb-86-e8-ae-be-e7-bd-ae.html" data-title="VSFtp详细设置" data-url="http://latteye.me/2006/11/vsftp-e8-af-a6-e7-bb-86-e8-ae-be-e7-bd-ae.html"></div>
  </section>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Book/">Book</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Dev/">Dev</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">90</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Life/Music/">Music</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile/">Mobile</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Movie/">Movie</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Music/">Music</a><span class="category-list-count">41</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Work/">Work</a><span class="category-list-count">292</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NSRange/">NSRange</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NSRegularExpression/">NSRegularExpression</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NSTextCheckingResult/">NSTextCheckingResult</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Regex/">Regex</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/">Swift</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity/">Unity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/as/">as</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swift/">swift</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/NSRange/" style="font-size: 10px;">NSRange</a><a href="/tags/NSRegularExpression/" style="font-size: 10px;">NSRegularExpression</a><a href="/tags/NSTextCheckingResult/" style="font-size: 10px;">NSTextCheckingResult</a><a href="/tags/Regex/" style="font-size: 10px;">Regex</a><a href="/tags/Swift/" style="font-size: 20px;">Swift</a><a href="/tags/Unity/" style="font-size: 10px;">Unity</a><a href="/tags/as/" style="font-size: 10px;">as</a><a href="/tags/swift/" style="font-size: 10px;">swift</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">十月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">九月 2012</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">八月 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/12/">十二月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">十一月 2011</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">十月 2011</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/07/">七月 2011</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/06/">六月 2011</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">五月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">四月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/03/">三月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/02/">二月 2011</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/01/">一月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/12/">十二月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">十一月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/09/">九月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/08/">八月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/06/">六月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/05/">五月 2010</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/04/">四月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">三月 2010</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/02/">二月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/01/">一月 2010</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/12/">十二月 2009</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/11/">十一月 2009</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/10/">十月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/09/">九月 2009</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/04/">四月 2009</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/02/">二月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/01/">一月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/12/">十二月 2008</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/11/">十一月 2008</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/10/">十月 2008</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/09/">九月 2008</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/08/">八月 2008</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/07/">七月 2008</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/06/">六月 2008</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/05/">五月 2008</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/04/">四月 2008</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/03/">三月 2008</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/02/">二月 2008</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/01/">一月 2008</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/12/">十二月 2007</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/11/">十一月 2007</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/10/">十月 2007</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/09/">九月 2007</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/08/">八月 2007</a><span class="archive-list-count">23</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/07/">七月 2007</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/06/">六月 2007</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/05/">五月 2007</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/04/">四月 2007</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/03/">三月 2007</a><span class="archive-list-count">36</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/02/">二月 2007</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/01/">一月 2007</a><span class="archive-list-count">23</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/12/">十二月 2006</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/11/">十一月 2006</a><span class="archive-list-count">74</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/10/">十月 2006</a><span class="archive-list-count">33</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/Unity-Content-Size-Fitter.html">Unity Content Size Fitter</a>
          </li>
        
          <li>
            <a href="/2015/08/Swift-as-Operator.html">Swift 中 的 as! 操作符</a>
          </li>
        
          <li>
            <a href="/2015/05/Swift-Trouble-Shooting-Return-from-initializer-without-initializing-all-stored-properties.html">Swift 排错一则</a>
          </li>
        
          <li>
            <a href="/2015/05/swift-regex-basic.html">Swift 中的正则表达式基础</a>
          </li>
        
          <li>
            <a href="/2014/03/linux-syn-backlog-and-somaxconn.html">Linux SYN Backlog and somaxconn</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://www.zhihu.com/people/yuan-hao-yang" target="_blank">知乎</a>
          </li>
        
          <li>
            <a href="http://xiguabaobao.com" target="_blank">主题作者</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 latteye<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"latteye"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>
  function SetShareData(cmd, config) {
    if (shareDataTitle && shareDataUrl) {
      config.bdText = shareDataTitle;
      config.bdUrl = shareDataUrl;
    }
    return config;
  }
  window._bd_share_config={
    "common":{onBeforeClick: SetShareData},
    "share":{"bdCustomStyle":"/css/bdshare.css"}
  };
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js" type="text/javascript"></script>

</div>
</body>
</html>
