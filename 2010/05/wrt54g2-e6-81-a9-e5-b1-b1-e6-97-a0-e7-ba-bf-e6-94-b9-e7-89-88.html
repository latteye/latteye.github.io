<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> WRT54G2 恩山无线改版 · Water is</title><meta name="description" content="WRT54G2 恩山无线改版 - latteye"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://latteye.me/atom.xml" title="Water is"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://www.zhihu.com/people/yuan-hao-yang" target="_blank" class="nav-list-link">ZHIHU</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">WRT54G2 恩山无线改版</h1><div class="post-info">2010年5月19日</div><div class="post-content"><p>前两天老的 <a href="http://latteye.com/2008/07/linksys-wag354g-wireless-config-1.html" target="_blank" rel="external">Linksys WAG354G</a> 过世了，症状是 ADSL 部分总是不能同步到信号。稳定了一下自己的情绪之后，决定再买一只路由器。<br><a id="more"></a></p>
<p>得知自己新房子支持 FTTB 之后决定是买一只 WRT54G2，因为上海某些地方 FTTB 可以 pppoe 拨号两次，从而拿到双倍的带宽。而这只路由器支持 Tomato Dual Wan 版本。所以想尝试一下，不过 Dual Wan 部分要到10月以后才能测试了。</p>
<p>恩山无线–一家专门 DIY IT 电子产品的小店。出了不少好东西。<a href="http://item.taobao.com/auction/item_detail-0db1-27e21f4de501259a8abf421d279222cf.htm" target="_blank" rel="external">WRT54G2</a> 在他们修改以后拥有 8M 的 Flash，64M 的 RAM。如果你只把他当路由器用，绝对是戳戳有余了。我测试下来，当 Connection 达到 2000 的时候也不过只用了 15M 左右的内存。CPU 使用在 8%-20%。毫无悬念的秒杀家用网络了。</p>
<p><strong>DD-WRT</strong></p>
<p>恩山无线给的 DD-WRT 版本很老了。自己去下新的固件破费周折。<br>DD-WRT 以前根据适用路由器的总类来给出固件：mega,mini 等等。但是现在 DD-WRT 官网更加人性化了，在其<a href="http://www.dd-wrt.com/site/support/router-database" target="_blank" rel="external">下载页面</a>会根据你输入的型号来帮你选择固件。<br>这可苦了我了，因为 WRT54G2 默认只能支持 micro 版本。</p>
<p>终于通过另一款 RAM 比较大的路由器的页面下载到了 mega 版本，通过对比 micro 版本的 md5 sum 来确定其同属 ND 系列。貌似是通过 WRT54G-RG 的页面下载的。如果你要用这种方式，请一定反复确认其型号是不是 ND 系列。WRT54G2 只能刷 ND 系列的。</p>
<p>用了两天 DD-WRT 之后，还是放弃了，因为他的 pptp-client 总是不能工作，拨了10 次只拨通了 1 次。<br>总的说来 DD-WRT 还是很专业的固件了。</p>
<p><strong>Tomato Dual Wan</strong></p>
<p><a href="http://www.dualwan.cn/" target="_blank" rel="external">Tomato Dual Wan</a> 是中国的玩家自己修改的。非常棒。</p>
<p>一开始恩山给我的时候也是 Tomato Dual Wan 的，什么版本不记得了。但是非常的蛮，只要 MSS 驴子一开，其他电脑开网页就非常慢。而且速度还没用完，就很慢了。现在想想，可能是开了 QOS 的原因。QOS 一旦开始给你的包排队，就要缓存你的数据了。</p>
<p>后来自己刷了 Tomato Dual Wan 的最新版本，关掉 QOS，体验非常棒！</p>
<p> <a href="http://www.yupoo.com/photos/latteye/74688032/" title="tomato1" target="_blank" rel="external"><img src="http://pic.yupoo.com/latteye/286729572062/medium.jpg" alt="tomato1"></a></p>
<p>这是系统信息页面，系统的负载非常小，内存也很充裕，还可以看到我有一个 pptp 链接。这是在国外租的，针对目前国内的形式也只能这样了。</p>
<p><a href="http://www.yupoo.com/photos/latteye/74688033/" title="tomato2" target="_blank" rel="external"><img src="http://pic.yupoo.com/latteye/995009572064/medium.jpg" alt="tomato2"></a></p>
<p>这是策略路由页面，通过 ip rule 可以告诉系统，哪些地址走我希望的出口。这样我就不用在 PC 上拨号了。需要的网站走 VPN，不需要的走默认线路。即方便又节约流量。</p>
<p>以后用到 Dual Wan 了，也可以告诉指定策略路由的方式。若是使用 BT 等下载方式，就可以把两条线路都用起来。很多细节大家去<a href="http://www.dualwan.cn/" target="_blank" rel="external">官网</a>上自己看吧。</p>
<p>期待 Dual Wan + GB 内网的那一天！</p>
</div></article></div></main><footer><div class="paginator"><a href="/2010/06/acer-h340-home-server.html" class="prev">PREV</a><a href="/2010/05/blog-e4-bc-98-e5-8c-96.html" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://latteye.me">latteye</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>