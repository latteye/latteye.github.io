<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Linux Sysctl rp_filter 解释 · Water is</title><meta name="description" content="Linux Sysctl rp_filter 解释 - latteye"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://latteye.me/atom.xml" title="Water is"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Linux Sysctl rp_filter 解释</h1><div class="post-info">2009年4月15日</div><div class="post-content"><p>本想搜中文资料，结果没找到说的清楚的帖子，还是自己看看英文吧。顺便勉强翻译一下。</p>
<a id="more"></a>
<blockquote>
<p>The rp_filter can reject incoming packets if their source address doesn’t match the network interface that they’re arriving on, which helps to prevent IP spoofing. Turning this on, however, has its consequences: If your host has several IP addresses on different interfaces, or if your single interface has multiple IP addresses on it, you’ll find that your kernel may end up rejecting valid traffic. It’s also important to note that even if you do not enable the rp_filter, protection against broadcast spoofing is always on. Also, the protection it provides is only against spoofed internal addresses; external addresses can still be spoofed.. By default, it is disabled. To enable it, run the following:</p>
<pre><code>if [ -r /proc/sys/net/ipv4/conf/all/rp_filter ]; then echo &quot;Enabling rp_filter&quot; echo &quot;1&quot; &gt; /proc/sys/net/ipv4/conf/all/rp_filter fi
</code></pre></blockquote>
<p><a href="http://www.linuxsecurity.com/content/view/111337/169/" target="_blank" rel="external">原文</a></p>
<p>在 Linux 接收网络数据包时，如果一个包的源地址与其网卡地址不相符，则可通过 rp_filter 选项禁止接受这类包。通过这个来方式 ip 欺骗。<br>需要注意的是，如果你的机器有多个网卡，不同的网卡有不同的IP；或者单个网卡有不同的IP。你的内核可能会禁止正常的包。<br>另外，就算你没有打开 rp_filter 选项。“防止广播欺骗”的功能是一直被开启的。不过他只针对内网地址，外网地址并不会被过滤。</p>
</div></article></div></main><footer><div class="paginator"><a href="/2009/09/hows-it-going.html" class="prev">PREV</a><a href="/2009/04/3-e6-9c-88-e9-97-b5-e8-a1-8c-e5-85-ac-e5-9b-ad.html" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://latteye.me">latteye</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>