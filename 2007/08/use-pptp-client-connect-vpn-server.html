<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 使用pptp客户端连接VPN服务器 · Water is</title><meta name="description" content="使用pptp客户端连接VPN服务器 - latteye"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://latteye.me/atom.xml" title="Water is"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">使用pptp客户端连接VPN服务器</h1><div class="post-info">2007年8月28日</div><div class="post-content"><p>网上很多文章都是通过 pptp-config 这个软件配置的，出于惯性思维我也努力的寻找了一下。很辛苦的找到了，也用上了。<br>后来居然还被人笑话，说 pptp 如此好的工具，居然还要用个 config ，画蛇添足。为什么这么说呢？</p>
<p>因为 pptp client 单独使用的时候，可以将通往vpn网络之外的流量全部走自己的线路，而不通过vpn隧道走。就好比你一边开着驴子，一边连接到公司的网络，驴子并不会占用公司的带宽！</p>
<p>这实在是个好东西阿，花了点时间，找到配置文件的格式，还不知道每个参数的含义，贴出来分享给大家。</p>
<a id="more"></a>
<p><code>apt-get install pptp-linux
cd /etc/ppp</code></p>
<p>请确保 options.pptp 文件中具有以下参数：</p>
<p><code>lock noauth nobsdcomp nodeflate</code></p>
<p>编辑chap-secrets文件：</p>
<p><code>&quot;username&quot; &quot;PPTP&quot; &quot;password&quot; *
&quot;PPTP&quot; &quot;username&quot; &quot;password&quot; *</code></p>
<p>创建 /etc/ppp/peers/connect 文件：（connect文件名可变）</p>
<p><code>pty &quot;pptp vpnserver --nolaunchpppd&quot;
name username
remotename PPTP
require-mppe-128
file /etc/ppp/options.pptp
ipparam connect</code></p>
<p>其中 username 、 password 均替换为自己的用户名、密码，若为 Windows 域环境，不必担心域选项，VPN不会受这个影响。</p>
<p>连接 vpn：</p>
<p><code>pon connect   (若你上面的文件不叫 connect，这里则替换成对应的名字）</code></p>
<p>查看VPN连接状态信息</p>
<p><code>plog</code></p>
<p>添加路由信息：</p>
<p><code>route add -net 192.168.0.0 netmask 255.255.0.0 dev ppp0</code></p>
<p>断开连接：</p>
<p><code>poff connect</code></p>
</div></article></div></main><footer><div class="paginator"><a href="/2007/08/weather-wallpaper.html" class="prev">PREV</a><a href="/2007/08/aticompiz-fusion-shell-test.html" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://latteye.me">latteye</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>