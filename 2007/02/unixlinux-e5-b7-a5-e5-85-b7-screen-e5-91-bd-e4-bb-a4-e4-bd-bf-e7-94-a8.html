<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Unix/Linux 工具: Screen 命令使用 · Water is</title><meta name="description" content="Unix/Linux 工具: Screen 命令使用 - latteye"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://latteye.me/atom.xml" title="Water is"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Unix/Linux 工具: Screen 命令使用</h1><div class="post-info">2007年2月19日</div><div class="post-content"><p><a href="http://www.winterxy.com/blog/000128.html" target="_blank" rel="external">原文地址</a> 原作者：林思敬</p>
<p><strong>前言</strong></p>
<p><strong>screen 是什么</strong></p>
<p>根据其man介绍，screen是个多元化多功能的全屏窗口管理器，每个虚拟终端都可以为你提供DEC VT100 terminal的功能, 也许你会问:DEC VT100 terminal又是什么?如果你登陆过某些字符界面的BBS,或许你会记得在注册时，其要求你输入你的终端机型别，而一般预设就是我们刚刚提到的DEC VT100 termina了.另外screen还附加提供了比如SO 6429 (ECMA 48, ANSI X3.64) and ISO 2022 standards的操作功能.</p>
<p><strong><br>screen 可以做些什么</strong></p>
<p>如果在以前或许screen 是你登陆 bbs 站的好伴侣,但是相信现在大家都是直接登陆图形界面的也就是WEB界面的BBS.当你正在登陆多个BBS而又不想在多个窗口之间切换.那么screen就可以帮你的忙了。<br><a id="more"></a></p>
<p>当然screen可不是专为BBS服务, 它可以让你只需要打开一个终端窗口就可以地处理很多的(进程)事情,举个例子:你正在shell上编写某个程序,碰巧你又需要重新启动某个服务,同时还要 FTP上传个大文件,这个时候就可以使用调用screen,只需要按下3个键就可以无须用鼠标在3个窗口间切换.又或者你使用PUTTY等工具登陆到服务器,不想在退出时关闭当前的进程,比如你正在复制文件等.这个时候就可以利用screen让你复制文件这个前台进程享受后台进程的”待遇”。</p>
<p>正是因为screen的种种实用功能 ,已经成为不少<em>unix玩家的必备利器,让</em>unix的日常操作管理更加方便。</p>
<p><strong>screen使用</strong></p>
<p>使用screen非常简易.只需在SHELL键入screen,便可打开一个screen session。<br>而在每个screen session 下，所有命令都以 ctrl+a(C-a) 开始。</p>
<p>现在让我来简单介绍基本的命令</p>
<p><code>C-a c -&gt; Create，开启新的 window
C-a n -&gt; Next，切换到下个 window
C-a p -&gt; Previous，前一个 window
C-a C-a -&gt; Other，在两个 window 间切换
C-a w -&gt; Windows，列出已开启的 windows 有那些
C-a 0 -&gt; 切换到第 0 个 window
C-a 1..9 -&gt; 切换到第 1..9 个window</code></p>
<p><code>C-a a -&gt; 发出 C-a，在 emacs, ve, bash, tcsh 下可移到行首</code></p>
<p><code>C-a t -&gt; Time，显示当前时间，和系统的 load
C-a K(大写) -&gt; kill window，强行关闭当前的 window</code></p>
<p>`C-a [ -&gt; 进入 copy mode，在 copy mode 下可以回滚、搜索、复制就像用使用 vi 一样</p>
<p>C-b Backward，PageUp<br>C-f Forward，PageDown<br>H(大写) High，将光标移至左上角<br>L Low，将光标移至左下角<br>0 移到行首<br>$ 行末<br>w forward one word，以字为单位往前移<br>b backward one word，以字为单位往后移<br>Space 第一次按为标记区起点，第二次按为终点<br>Esc 结束 copy mode<br>C-a ] -&gt; Paste，把刚刚在 copy mode 选定的内容贴上</p>
<p>C-a ? -&gt; Help，显示简单说明</p>
<p>C-a d -&gt; detach，将目前的 screen session (可能含有多个 windows)丢到后台执行 当按了 C-a d 把 screen session detach 掉后，会回到还没进 screen 时的状态，此时在 screen session 里每个 window 内运行的 process (无论是前台/后台)都在继续执行，即使 logout 也不影响。`</p>
<p>下次 login 进来时:</p>
<p>`screen -ls -&gt; 显示所有的 screen sessions<br>screen -r [keyword] -&gt; 选择一个screen session 恢复对话</p>
<p>若 screen -ls 里有 Attached sessions:<br>screen -d [keyword] -&gt; 强制 detach，以便「接手」过来`</p>
<p>实例<br>说明看了那么多,让我们用一个实际例子来结束我们今天的学习。</p>
<p>在我们开启一个screen后,然后使用joe编辑一个文件,之后因为临时需要离开这时就可以运行Ctrl+a d,显示如下：</p>
<p><code>[becks@ec-base becks]$ screen
[detached]</code></p>
<p>这个时候当我们运行ps -e 可以看到pts/2这个我刚刚运行的screen正在运行joe<br><code>6264 pts/2 00:00:00 bash
6354 pts/2 00:00:00 joe</code></p>
<p>而当我们回来后想恢复这个session,只需要键入screen -r,而当你有多个session时候,系统将提示你选择一个,如下：<br><code>[becks@ec-base becks]$ screen -r
There are several suitable screens on:
6263.pts-1.ec-base (Detached)
6382.pts-1.ec-base (Detached)
Type &quot;screen [-d] -r [pid.]tty.host&quot; to resume one of them.</code></p>
<p>输入该session的pid进行恢复<br><code>[becks@becks becks]$ screen -r 6263</code></p>
<p>想退出screen的session,和退出shell一样,只需要键入exit命令,成功退出后将有以下提示<br><code>[screen is terminating]</code></p>
<p>screen的简单用法就介绍到这里,更多的功能和应有请读者参考MAN自行研究.</p>
</div></article></div></main><footer><div class="paginator"><a href="/2007/02/e9-80-9a-e5-90-91kde4-e4-b9-8b-e8-b7-af-ef-bc-88-e5-85-ab-ef-bc-89-ef-bc-9acmake-ef-bc-8c-e6-96-b0-e7-9a-84kde-e6-9e-84-e5-bb-ba-e7-b3-bb-e7-bb-9f.html" class="prev">PREV</a><a href="/2007/02/epica-ef-bc-8dcry-to-the-moon.html" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://latteye.me">latteye</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>